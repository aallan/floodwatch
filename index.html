<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Floodwatch - River Taw Monitoring</title>

    <!-- Open Graph / Social Media Preview -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tawriver.watch/">
    <meta property="og:title" content="Floodwatch — River Taw Catchment">
    <meta property="og:description" content="Real-time flood monitoring dashboard for the River Taw catchment in Devon, UK. Live river levels, rainfall, and tidal data from Environment Agency stations.">
    <meta property="og:image" content="https://tawriver.watch/images/opengraph.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Floodwatch — River Taw Catchment">
    <meta name="twitter:description" content="Real-time flood monitoring dashboard for the River Taw catchment in Devon, UK. Live river levels, rainfall, and tidal data.">
    <meta name="twitter:image" content="https://tawriver.watch/images/opengraph.png">

    <meta name="description" content="Real-time flood monitoring dashboard for the River Taw catchment in Devon, UK. Live river levels, rainfall, and tidal data from Environment Agency stations.">

    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='6' fill='%231a8a7d'/%3E%3Ctext x='16' y='22' text-anchor='middle' font-family='serif' font-size='22' font-weight='bold' fill='white'%3E~%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha384-sHL9NAb7lN7rfvG5lfHpm643Xkcjzp4jFvuavGOndn6pjVqS6ny56CAt3nsEVT4H" crossorigin="anonymous" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha384-cxOPjt7s7Iz04uaHJceBmS+qpjv2JkIHNVcuOrM+YHwZOmJGBXI00mdUXEq65HTH" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"
            integrity="sha384-D/t0ZMqQW31H3az8ktEiNb39wyKnS82iFY52QPACM+IjKW3jDUhyIgh2PApRqJZs" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"
            integrity="sha384-9nhczxUqK87bcKHh20fSQcTGD4qq5GhayNYSYWqwBkINBhOfQLg/P5HG5lF1urn4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"
            integrity="sha384-cVMg8E3QFwTvGCDuK+ET4PD341jF3W8nO1auiXfuZNQkzbUUiBGLsIQUE+b1mxws" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/floodwatch.css">
</head>
<body>
    <div id="header">
        <div class="header-left">
            <h1>
                <span class="logo-icon">~</span>
                Floodwatch<span class="subtitle"> &mdash; River Taw</span>
            </h1>
            <div class="header-meta">
                <a href="https://github.com/aallan/floodwatch" class="github-link" target="_blank" rel="noopener">View on GitHub</a>
                <span class="version-tag" id="version-tag"></span>
            </div>
        </div>
        <div class="header-right">
            <span class="flood-status" id="flood-status" aria-live="polite">
                <span class="flood-status-dot"></span>
                <span class="flood-status-label">No warnings</span>
            </span>
            <span class="last-updated" id="last-updated"></span>
            <button id="refresh-btn" aria-label="Refresh station data" aria-busy="false">
                <span class="spinner"></span>
                <span class="btn-text">Refresh Data</span>
            </button>
        </div>
    </div>
    <div id="content-area">
        <div id="flood-warnings" class="flood-warnings hidden">
            <div class="flood-warnings-summary" role="button" tabindex="0" aria-expanded="false">
                <span class="flood-warnings-icon"></span>
                <span class="flood-warnings-text" id="flood-warnings-text"></span>
                <span class="flood-warnings-chevron">&#x25BE;</span>
            </div>
            <div class="flood-warnings-details" id="flood-warnings-details"></div>
        </div>
        <div id="map"></div>
    </div>
    <div class="refresh-log hidden" id="refresh-log"></div>

    <script src="js/floodwatch-core.js"></script>
    <script src="js/floodwatch.js"></script>
</body>
</html>
